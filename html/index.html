<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charaset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
  </head>
  <body>
    <!-- Vuetify -->
    <div id="app">
      <!-- Vuetify を使う場合に全体を<v-app>でwrapする必要がある -->
      <v-app>
        <v-form ref="form" v-model="valid" lazy-validation>
          <v-container>
            <h2 class="pt-5">EQL</h2>
            <v-layout>
              <v-flex xs12 md12>
                <v-btn color="green" :dark="valid" small fab @click="addPerson" :disabled="!valid">
                  <v-icon>person_add</v-icon>
                </v-btn>
              </v-flex>
            </v-layout>
          </v-container>
        </v-form>
        <v-container>
          <v-data-iterator :items="elements" :rows-per-page-items="rowsPerPageItems" :pagination.sync="pagination" content-tag="v-layout" row wrap>
            <template v-slot:items="props">
              <v-flex xs12 sm6 md4 lg3>
                <v-card>
                  <v-card-title>
                    <h4>{{ props.item.name }}</h4>
                    <v-btn color="red" icon dark small @click="removePerson(props.item.id)">
                      <v-icon>clear</v-icon>
                    </v-btn>
                  </v-card-title>
                  <v-divider></v-divider>
                  <v-list dense>
                    <v-list-tile>
                      <v-list-tile-content>Category</v-list-tile-content>
                      <v-list-tile-content class="align-end">{{ props.item.category }}</v-list-tile-content>
                    </v-list-tile>
                  </v-list>
                </v-card>
              </v-flex>
            </template>
          </v-data-iterator>
        </v-container>
      </v-app>
    </div>
    <script>
      new Vue({
        el: '#app',
        data: {
          valid: true,
          rowsPerPageItems: [10, 20, 50],
          pagination: {
            rowsPerPage: 10
          },
          elements: [
            {
              id: 1,
              name: 'sato',
              category: 'transition'
           },
           {
              id: 2,
              name: 'sato',
              category: 'transition'
           },
           {
              id: 3,
              name: 'sato',
              category: 'transition'
           },
           {
              id: 4,
              name: 'sato',
              category: 'transition'
           },
           {
              id: 5,
              name: 'sato',
              category: 'transition'
           },
           {
              id: 6,
              name: 'sato',
              category: 'transition'
           },
          ]
        },
        methods: {
          addPerson: function() {
            alert("append")
          },
          removePerson: function(id) {
            const index = this.elements.findIndex(item => item.id === id)
            this.elements.splice(index, 1)
          },
          generateElId: function() {
            const d = new Date()
            return d.getMinutes() + d.getSeconds() + d.getMilliseconds()
          },
        },
      })
    </script>
  </body>
</html>
